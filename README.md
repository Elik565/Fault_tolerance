Вопросы, возникшие при выполнении задания:
1. Нужно ли сохранять регистр в названиях таблиц и полей?
2. При загрузке данных в таблицу "Posts" возникают ошибки при отсутствии связанной записи. Например: ERROR:  insert or update on table "Posts" violates foreign key constraint "Fk_Posts_Users" DETAIL:  Key (OwnerUserId)=(288868) is not present in table "Users";
3. Проверял скорость выполнения работы запроса Q1.sql в dbeaver - с индексами были значительные улучшения по времени. С psql совсем другая ситуация - при добавлении индексов время работы скрипта увеличивается почти в 2 раза.

Принятые решения:
1. Решил сохранять регистр для соответствия названий со схемой бд;
2. Проверил, что в файлах xml действительно нет таких значений, значит целостность данных нарушена уже в дампе, что странно. Решил отключать проблемные ограничения на время загрузки данных. После импорта можно запустить скрипт check.sql, чтобы проверить соблюдение всех ограничений в схеме;
3. Закомментировал создание индексов.


Инструкция по запуску:
1. С помощью программы Find_fields/find_fields находим только те поля таблиц, данные которых присутствуют в дампе. Для этого запускаем программу и передаем ей путь до директории, в которой хранятся xml файлы дампа. Пример: ./Find_fields/find_fields dump. После запуска в консоли печатаются названия файлов(таблиц) и поля, присутствующие в них. Также создается файл (в той же директории что и дамп) с названием "<ваша_директория_с xml_файлами>_fields.txt" для последующего парсинга;
2. С помощью программы Convert_xml_to_csv конвертируем xml файлы дампа в файлы csv для более быстрого импорта данных. Для этого запускаем прогрмму и передаем ей путь до директории, в которой хранятся xml файлы дампа, и путь до файла с полями таблиц. Пример: ./Convert_xml_to_csv/convert dump dump_fields.txt. Создастся папка с названием "<ваша_директория_с xml_файлами>_csv" с файлами csv;
3. С помощью скрипта create.sql создается схема данных "Dump_schema". Для этого запускаем скрипт через psql, указывая базу данных, где будет создана схема. Пример: psql -d StackExchange -f create.sql;
4. Импортировать данные можно, запустив скрипт import.sh, указав путь до папки с csv файлами дампа и базу данных со схемой "Dump_schema". Пример: ./import.sh dump_csv StackExchange;
5. Чтобы выполнить соблюдение всех ограничений в схеме, запускаем скрипт check.sql через psql, указывая базу данных со схемой "Dump_schema". Пример: psql -d StackExchange -f check.sql;
6. Для выполнения запроса Q1 - "Репутационные пары" запускаем скрипт Q1.sql. Пример: psql -d StackExchange -f Q1.sql;
7. Для выполнения запроса Q2 - "Успешные шутники" запускаем скрипт Q2.sql. Пример: psql -d StackExchange -f Q2.sql.



